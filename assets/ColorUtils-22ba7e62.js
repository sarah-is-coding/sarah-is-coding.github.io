import{n as b,k as w,o as q,r as R,s as C,q as S,g as v,p as K,m as Q,h as P,t as U,v as X,w as Y}from"./Utils-eafc054a.js";const T="random",p="mid",I=new Map;function Z(e){for(const[,x]of I)if(e.startsWith(x.stringPrefix))return x.parseString(e);const n=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,s=e.replace(n,(x,M,u,f,a)=>M+M+u+u+f+f+(a!==void 0?a+a:"")),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,i=r.exec(s),t=16,c=1,y=255;return i?{a:i[4]!==void 0?parseInt(i[4],t)/y:c,b:parseInt(i[3],t),g:parseInt(i[2],t),r:parseInt(i[1],t)}:void 0}function L(e,n,s=!0){if(!e)return;const r=b(e)?{value:e}:e;if(b(r.value))return W(r.value,n,s);if(w(r.value))return L({value:q(r.value,n,s)});for(const[,i]of I){const t=i.handleRangeColor(r);if(t)return t}}function W(e,n,s=!0){if(!e)return;const r=b(e)?{value:e}:e;if(b(r.value))return r.value===T?_():V(r.value);if(w(r.value))return W({value:q(r.value,n,s)});for(const[,i]of I){const t=i.handleColor(r);if(t)return t}}function te(e,n,s=!0){const r=L(e,n,s);return r?A(r):void 0}function A(e){const u=e.r/255,f=e.g/255,a=e.b/255,l=Math.max(u,f,a),g=Math.min(u,f,a),o={h:0,l:(l+g)*.5,s:0};return l!==g&&(o.s=o.l<.5?(l-g)/(l+g):(l-g)/(2-l-g),o.h=u===l?(f-a)/(l-g):o.h=f===l?2+(a-u)/(l-g):2*2+(u-f)/(l-g)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function V(e){return Z(e)}function N(e){const c=(e.h%360+360)%360,y=Math.max(0,Math.min(100,e.s)),x=Math.max(0,Math.min(100,e.l)),M=c/360,u=y/100,f=x/100,a=255,l=3;if(y===0){const h=Math.round(f*a);return{r:h,g:h,b:h}}const g=.5,o=2,$=(h,D,m)=>{if(m<0&&m++,m>1&&m--,m*6<1)return h+(D-h)*6*m;if(m*o<1)return D;if(m*l<1*o){const J=o/l;return h+(D-h)*(J-m)*6}return h},j=1,d=f<g?f*(j+u):f+u-f*u,F=o*f-d,z=1,k=z/l,B=Math.min(a,a*$(F,d,M+k)),E=Math.min(a,a*$(F,d,M)),G=Math.min(a,a*$(F,d,M-k));return{r:Math.round(B),g:Math.round(E),b:Math.round(G)}}function _(e){const s=e??0,r=256;return{b:Math.floor(R(C(s,r))),g:Math.floor(R(C(s,r))),r:Math.floor(R(C(s,r)))}}function ae(e,n){return`rgba(${e.r}, ${e.g}, ${e.b}, ${n??1})`}function le(e,n){return`hsla(${e.h}, ${e.s}%, ${e.l}%, ${n??1})`}function ee(e,n,s,r){let i=e,t=n;return i.r===void 0&&(i=N(e)),t.r===void 0&&(t=N(n)),{b:S(i.b,t.b,s,r),g:S(i.g,t.g,s,r),r:S(i.r,t.r,s,r)}}function oe(e,n,s){if(s===T)return _();if(s===p){const r=e.getFillColor()??e.getStrokeColor(),i=(n==null?void 0:n.getFillColor())??(n==null?void 0:n.getStrokeColor());if(r&&i&&n)return ee(r,i,e.getRadius(),n.getRadius());{const t=r??i;if(t)return N(t)}}else return s}function fe(e,n,s){const r=b(e)?e:e.value;return r===T?s?L({value:r}):n?T:p:r===p?p:L({value:r})}function ue(e,n,s){const r={h:{enable:!1,value:e.h},s:{enable:!1,value:e.s},l:{enable:!1,value:e.l}};return n&&(O(r.h,n.h,s),O(r.s,n.s,s),O(r.l,n.l,s)),r}function O(e,n,s){e.enable=n.enable;const r=0,i=1,t=0,c=0;e.enable?(e.velocity=v(n.speed)/K*s,e.decay=i-v(n.decay),e.status="increasing",e.loops=t,e.maxLoops=v(n.count),e.time=c,e.delayTime=v(n.delay)*Q,n.sync||(e.velocity*=P(),e.value*=P()),e.initialValue=e.value,e.offset=C(n.offset)):e.velocity=r}function H(e,n,s,r){if(!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const u=e.offset?R(e.offset):0,f=(e.velocity??0)*r.factor+u*3.6,a=e.decay??1,l=U(n),g=X(n);if(!s||e.status==="increasing")e.value+=f,e.value>l&&(e.loops||(e.loops=0),e.loops++,s?e.status="decreasing":e.value-=l);else{e.value-=f;const o=0;e.value<o&&(e.loops||(e.loops=0),e.loops++,e.status="increasing")}e.velocity&&a!==1&&(e.velocity*=a),e.value=Y(e.value,g,l)}function ge(e,n){if(!e)return;const{h:s,s:r,l:i}=e,t={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};s&&H(s,t.h,!1,n),r&&H(r,t.s,!0,n),i&&H(i,t.l,!0,n)}export{A as a,ae as b,ee as c,fe as d,oe as e,L as f,le as g,ue as h,te as r,ge as u};
