import{h as r,g as o,j as i}from"./Utils-eafc054a.js";import{r as g}from"./ColorUtils-22ba7e62.js";const b=2,s=Math.PI*b,f=360;function m(l){const e=l.options.roll;if(!(e!=null&&e.enable)){l.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(l.roll={enable:e.enable,horizontal:e.mode==="horizontal"||e.mode==="both",vertical:e.mode==="vertical"||e.mode==="both",angle:r()*s,speed:o(e.speed)/f},e.backColor)l.backColor=g(e.backColor);else if(e.darken.enable&&e.enlighten.enable){const a=r()>=i?"darken":"enlighten";l.roll.alter={type:a,value:o(a==="darken"?e.darken.value:e.enlighten.value)}}else e.darken.enable?l.roll.alter={type:"darken",value:o(e.darken.value)}:e.enlighten.enable&&(l.roll.alter={type:"enlighten",value:o(e.enlighten.value)})}function k(l,e){const a=l.options.roll,n=l.roll;if(!n||!(a!=null&&a.enable))return;const d=n.speed*e.factor,t=s;n.angle+=d,n.angle>t&&(n.angle-=t)}export{m as initParticle,k as updateRoll};
